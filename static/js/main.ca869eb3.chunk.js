(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{64:function(t,e,a){},67:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=a(15),s=a(14),u=a(40),d=a(25),l="FETCH_DATA_SUCCESS",j="FETCH_DATA_FAILURE",h=function(t){var e=[];return Object.keys(t).forEach((function(a){var n=0;t[a].temp.forEach((function(t){n+=t}));var r=n/t[a].temp.length,c=0;t[a].humidity.forEach((function(t){c+=t}));var i=c/t[a].temp.length;e.push([a,Math.round(r),Math.round(i)])})),e},b=function(t){var e=function(t){for(var e={},a=t.list,n=0;n<a.length;n+=1){var r=a[n].dt_txt.split(" ")[0];e[r]?(e[r].temp.push(a[n].main.temp),e[r].humidity.push(a[n].main.humidity)):e[r]={temp:[a[n].main.temp],humidity:[a[n].main.humidity]}}return e}(t);return{hourlyData:e,dailyData:h(e)}},f={loaded:!1,error:!1},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(d.a)(Object(d.a)({},t),{},{loaded:!0,error:!1,data:b(e.payload)});case j:return Object(d.a)(Object(d.a)({},t),{},{loaded:!0,error:!0,errorMessage:e.payload});default:return t}},O=Object(s.c)({weatherData:x}),m=Object(s.d)(O,Object(s.a)(u.a)),p=(a(64),function(){return function(t){var e=Object({NODE_ENV:"production",PUBLIC_URL:"/weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.openweathermap.org/data/2.5/forecast",REACT_APP_API_KEY:"78e721f97f5f33973446b845921a8f88"}),a=e.REACT_APP_API_KEY,n=e.REACT_APP_API_URL;fetch("".concat(n,"?q=Munich,de&APPID=").concat(a,"&cnt=40")).then((function(t){return t.json()})).then((function(e){t({type:l,payload:e})})).catch((function(e){t({type:j,payload:e})}))}}),v=a(90),g=(a(65),a(46)),y=a(92),C=a(2),w=Object(v.a)((function(t){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},progress:{marginLeft:t.spacing(1)}}}));function _(){var t=w();return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsx)(g.a,{variant:"h3",children:"Loading"}),Object(C.jsx)(y.a,{className:t.progress})]})}var A=a(101),D=a(94),E=a(95),N=Object(v.a)((function(){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}}}));function P(){var t=N();return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsxs)(A.a,{severity:"error",children:[Object(C.jsx)(D.a,{children:"Error"}),"Failed to fetch data from API"]}),Object(C.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){window.location.reload()},children:"Reload Page"})]})}var I=a(37),S=a(96),T=a(5),F=a(100),R=a(103),W=a(97),k=a(102),L=Object(T.a)({"@global":{".MuiFormGroup-root":{flexDirection:"row",justifyContent:"space-between"}}})((function(){return null})),U=Object(v.a)((function(){return{root:{width:"100%",margin:"3vh 0"}}}));function M(t){var e=t.unit,a=t.handleUnitChange,n=U();return Object(C.jsx)(S.a,{maxWidth:"sm",children:Object(C.jsxs)(k.a,{component:"fieldset",className:n.root,children:[Object(C.jsx)(L,{}),Object(C.jsxs)(R.a,{"aria-label":"unit",name:"unit",value:e,onChange:function(t){a(t.target.value)},children:[Object(C.jsx)(W.a,{value:"C",control:Object(C.jsx)(F.a,{color:"primary"}),label:Object(C.jsx)(g.a,{variant:"h6",children:"Celcius"})}),Object(C.jsx)(W.a,{value:"F",control:Object(C.jsx)(F.a,{color:"primary"}),label:Object(C.jsx)(g.a,{variant:"h6",children:"Fahrenheit"})})]})]})})}var H=a.p+"static/media/left.06b4b01c.svg",K=a.p+"static/media/right.cb9699c1.svg",B=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"1vh auto",maxWidth:"750px"},arrow:{display:"block",width:"120px",height:"60px",margin:"1vw"},disabled:{display:"none"}}}));function J(t){var e=t.next,a=t.prev,n=t.currentCard,r=t.totalCards,c=B();return Object(C.jsxs)("div",{className:c.root,children:[Object(C.jsx)("div",{children:Object(C.jsx)(E.a,{onClick:a,className:"".concat(0===n?c.disabled:""),children:Object(C.jsx)("img",{src:H,alt:"left-arrow",className:c.arrow})})}),Object(C.jsx)("div",{children:Object(C.jsx)(E.a,{onClick:e,className:"".concat(n===r-1?c.disabled:""),children:Object(C.jsx)("img",{src:K,alt:"right-arrow",className:c.arrow})})})]})}var Y=a(98),q=a(99),G=function(t){return"".concat((t-273.15).toFixed(0))},V=function(t){return"".concat((1.8*(t-273.15)+32).toFixed(0))},z=function(t){return"C"===t?G:V},Q=function(t){var e=new Date(t).toString().split(" ");return"".concat(e[2]," ").concat(e[1]," ").concat(e[3].substr(2,3))},X=Object(v.a)({root:{width:"30vw",margin:"1vw"},selected:{background:"#90caf9"}});function Z(t){var e=t.cardIndex,a=t.data,n=t.currentCard,r=t.unit,c=X();return Object(C.jsx)(Y.a,{className:"".concat(c.root," ").concat(e===n?c.selected:""),children:Object(C.jsx)(q.a,{children:Object(C.jsxs)(g.a,{variant:"h6",className:c.text,children:["Temp:",Object(C.jsx)("br",{}),z(r)(a[1]),r,Object(C.jsx)("br",{}),"Date:",Object(C.jsx)("br",{}),Q(a[0])]})})})}var $=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"1vh auto",maxWidth:"750px"}}}));function tt(t){var e=t.currentCard,a=t.dailyData,n=t.unit,r=$(),c=function(t){for(var e=[],a=t-2;a<=t;a+=1)e.push(a);return e}(e<3?2:e);return Object(C.jsx)("div",{className:r.root,children:c.map((function(t){return Object(C.jsx)(Z,{cardIndex:t,data:a[t],currentCard:e,unit:n},t)}))})}var et=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:"7vh auto",height:"20vh"},barcontainer:{width:"12.5%"},bar:{background:"#ffc107",margin:"4px"},text:{textAlign:"center"}}}));function at(t){var e=t.tempList,a=t.unit,n=et();return Object(C.jsx)(S.a,{maxWidth:"sm",className:n.root,children:e.map((function(t){return Object(C.jsxs)("div",{className:n.barcontainer,children:[Object(C.jsx)("div",{className:n.bar,style:{height:"".concat((t-243)/4,"vh")}}),Object(C.jsxs)(g.a,{variant:"body2",className:n.text,children:[" ",z(a)(t)," ",a]})]},t)}))})}var nt=Object(o.b)((function(t){return{data:t.weatherData.data}}),null)((function(t){var e=t.data,a=Object(n.useState)("F"),r=Object(I.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(0),s=Object(I.a)(o,2),u=s[0],d=s[1],l=e.hourlyData,j=e.dailyData,h=l[j[u][0]].temp;return Object(C.jsxs)(S.a,{maxWidth:"md",children:[Object(C.jsx)(M,{unit:c,handleUnitChange:function(t){i(t)}}),Object(C.jsx)(J,{next:function(){d((function(t){return t<4?t+1:t}))},prev:function(){d((function(t){return t>0?t-1:t}))},currentCard:u,totalCards:5}),Object(C.jsx)(tt,{currentCard:u,dailyData:j,unit:c}),Object(C.jsx)(at,{tempList:h,unit:c})]})})),rt={fetchWeatherData:p},ct=Object(o.b)((function(t){return{loaded:t.weatherData.loaded,error:t.weatherData.error}}),rt)((function(t){var e=t.loaded,a=t.error,r=t.fetchWeatherData;return Object(n.useEffect)((function(){r()}),[]),e?a?Object(C.jsx)(P,{}):Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(nt,{})}):Object(C.jsx)(_,{})}));i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(o.a,{store:m,children:Object(C.jsx)(ct,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.ca869eb3.chunk.js.map