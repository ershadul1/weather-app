(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{65:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),c=a(13),i=a.n(c),o=a(15),s=a(14),d=a(41),l=a(25),u="FETCH_DATA_SUCCESS",j="FETCH_DATA_FAILURE",h=function(t){var e=[];return Object.keys(t).forEach((function(a){var r=0;t[a].temp.forEach((function(t){r+=t}));var n=r/t[a].temp.length;e.push([a,Math.round(n)])})),e},b=function(t){var e=function(t){for(var e={},a=t.list,r=0;r<a.length;r+=1){var n=a[r].dt_txt.split(" ")[0];e[n]?e[n].temp.push(a[r].main.temp):e[n]={temp:[a[r].main.temp]}}return e}(t);return{hourlyData:e,dailyData:h(e)}},f={loaded:!1,error:!1},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(l.a)(Object(l.a)({},t),{},{loaded:!0,error:!1,data:b(e.payload)});case j:return Object(l.a)(Object(l.a)({},t),{},{loaded:!0,error:!0,errorMessage:e.payload});default:return t}},O=Object(s.c)({weatherData:x}),p=Object(s.d)(O,Object(s.a)(d.a)),m=(a(65),function(){return function(t){var e=Object({NODE_ENV:"production",PUBLIC_URL:"/weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.openweathermap.org/data/2.5/forecast",REACT_APP_API_KEY:"78e721f97f5f33973446b845921a8f88"}),a=e.REACT_APP_API_KEY,r=e.REACT_APP_API_URL;return fetch("".concat(r,"?q=Munich,de&APPID=").concat(a,"&cnt=40")).then((function(t){return t.json()})).then((function(e){t({type:u,payload:e})})).catch((function(e){t({type:j,payload:e})}))}}),v=a(93),g=(a(66),a(47)),w=a(95),C=a(2),y=Object(v.a)((function(t){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},progress:{marginLeft:t.spacing(1)}}}));function _(){var t=y();return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsx)(g.a,{variant:"h3",children:"Loading"}),Object(C.jsx)(w.a,{className:t.progress})]})}var A=a(104),D=a(97),E=a(98),N=Object(v.a)((function(){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}}}));function P(){var t=N();return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsxs)(A.a,{severity:"error",children:[Object(C.jsx)(D.a,{children:"Error"}),"Failed to fetch data from API"]}),Object(C.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){window.location.reload()},children:"Reload Page"})]})}var I=a(38),S=a(99),T=a(5),F=a(103),R=a(106),W=a(100),k=a(105),L=Object(T.a)({"@global":{".MuiFormGroup-root":{flexDirection:"row",justifyContent:"space-between"}}})((function(){return null})),U=Object(v.a)((function(){return{root:{width:"100%",margin:"3vh 0"}}}));function H(t){var e=t.unit,a=t.handleUnitChange,r=U();return Object(C.jsx)(S.a,{maxWidth:"sm",children:Object(C.jsxs)(k.a,{component:"fieldset",className:r.root,children:[Object(C.jsx)(L,{}),Object(C.jsxs)(R.a,{"aria-label":"unit",name:"unit",value:e,onChange:function(t){a(t.target.value)},"data-testid":"unit-switch",children:[Object(C.jsx)(W.a,{value:"C",control:Object(C.jsx)(F.a,{color:"primary"}),label:Object(C.jsx)(g.a,{variant:"h6",children:"Celcius"}),"data-testid":"switch-c"}),Object(C.jsx)(W.a,{value:"F",control:Object(C.jsx)(F.a,{color:"primary"}),label:Object(C.jsx)(g.a,{variant:"h6",children:"Fahrenheit"})})]})]})})}var K=a.p+"static/media/left.06b4b01c.svg",M=a.p+"static/media/right.cb9699c1.svg",B=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"1vh auto",maxWidth:"750px"},arrow:{display:"block",width:"120px",height:"60px",margin:"1vw"},disabled:{display:"none"}}}));function J(t){var e=t.next,a=t.prev,r=t.currentCard,n=t.totalCards,c=B();return Object(C.jsxs)("div",{className:c.root,children:[Object(C.jsx)("div",{children:Object(C.jsx)(E.a,{onClick:a,className:"".concat(0===r?c.disabled:""),"data-testid":"left-arrow",children:Object(C.jsx)("img",{src:K,alt:"left-arrow",className:c.arrow})})}),Object(C.jsx)("div",{children:Object(C.jsx)(E.a,{onClick:e,className:"".concat(r===n-1?c.disabled:""),"data-testid":"right-arrow",children:Object(C.jsx)("img",{src:M,alt:"right-arrow",className:c.arrow})})})]})}var Y=a(31),q=a.n(Y),G=a(101),V=a(102),z=function(t){return"".concat((t-273.15).toFixed(0))},Q=function(t){return"".concat((1.8*(t-273.15)+32).toFixed(0))},X=function(t){return"C"===t?z:Q},Z=function(t){var e=new Date(t).toString().split(" ");return"".concat(e[2]," ").concat(e[1]," ").concat(e[3].substr(2,3))},$=Object(v.a)({root:{width:"30vw",margin:"1vw"},selected:{background:"#90caf9"}});function tt(t){var e=t.cardIndex,a=t.data,r=t.currentCard,n=t.unit,c=$();return Object(C.jsx)(G.a,{className:"".concat(c.root," ").concat(e===r?c.selected:""),children:Object(C.jsx)(V.a,{children:Object(C.jsxs)(g.a,{variant:"h6",className:c.text,children:["Temp:",Object(C.jsx)("br",{}),X(n)(a[1]),n,Object(C.jsx)("br",{}),"Date:",Object(C.jsx)("br",{}),Z(a[0])]})})})}var et=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"1vh auto",maxWidth:"750px"}}}));function at(t){var e=t.currentCard,a=t.dailyData,r=t.unit,n=et(),c=function(t){for(var e=[],a=t-2;a<=t;a+=1)e.push(a);return e}(e<3?2:e);return Object(C.jsx)("div",{className:n.root,children:c.map((function(t){return Object(C.jsx)(tt,{cardIndex:t,data:a[t],currentCard:e,unit:r},q()())}))})}var rt=Object(v.a)((function(){return{root:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:"7vh auto",height:"20vh"},barcontainer:{width:"12.5%"},bar:{background:"#ffc107",margin:"4px"},text:{textAlign:"center"}}}));function nt(t){var e=t.tempList,a=t.unit,r=rt();return Object(C.jsx)(S.a,{maxWidth:"sm",className:r.root,children:e.map((function(t){return Object(C.jsxs)("div",{className:r.barcontainer,children:[Object(C.jsx)("div",{className:r.bar,style:{height:"".concat((t-243)/4,"vh")}}),Object(C.jsxs)(g.a,{variant:"body2",className:r.text,children:[" ",X(a)(t)," ",a]})]},q()())}))})}var ct=Object(o.b)((function(t){return{data:t.weatherData.data}}),null)((function(t){var e=t.data,a=Object(r.useState)("F"),n=Object(I.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(0),s=Object(I.a)(o,2),d=s[0],l=s[1],u=e.hourlyData,j=e.dailyData,h=u[j[d][0]].temp;return Object(C.jsxs)(S.a,{maxWidth:"md",children:[Object(C.jsx)(H,{unit:c,handleUnitChange:function(t){i(t)}}),Object(C.jsx)(J,{next:function(){l((function(t){return t<4?t+1:t}))},prev:function(){l((function(t){return t>0?t-1:t}))},currentCard:d,totalCards:5}),Object(C.jsx)(at,{currentCard:d,dailyData:j,unit:c}),Object(C.jsx)(nt,{tempList:h,unit:c})]})})),it={fetchWeatherData:m},ot=Object(o.b)((function(t){return{loaded:t.weatherData.loaded,error:t.weatherData.error}}),it)((function(t){var e=t.loaded,a=t.error,n=t.fetchWeatherData;return Object(r.useEffect)((function(){n()}),[]),e?a?Object(C.jsx)(P,{}):Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(ct,{})}):Object(C.jsx)(_,{})}));i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(o.a,{store:p,children:Object(C.jsx)(ot,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.bf08ef0e.chunk.js.map